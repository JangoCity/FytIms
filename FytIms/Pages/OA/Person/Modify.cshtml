@page
@model FytIms.Pages.OA.Person.ModifyModel
@{
    ViewData["Title"] = "修改/添加";
    Layout = "~/Pages/_Layout.cshtml";
}
<form class="layui-form form-cus form-tab" action="">
    <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
        <ul class="layui-tab-title">
            <li class="layui-this">基本信息</li>
            <li>联系人</li>
            <li>教育经理</li>
            <li>工作经理</li>
        </ul>
        <div class="layui-tab-content">
            <div class="layui-tab-item layui-show">
                <div class="layui-col-xs12 layui-col-md9">
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">归属公司</label>
                            <div class="layui-input-inline">
                                <select name="CompayGuid" lay-verify="required" lay-search="">
                                    <option value="">--请选择公司--</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <div class="layui-input-inline">
                                <select name="DepartmentGuid" lay-verify="required" lay-search="">
                                    <option value="">--请选择部门--</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <div class="layui-input-inline">
                                <select name="RoleGuid" lay-verify="required" lay-search="">
                                    <option value="">--请选择角色--</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">姓名</label>
                            <div class="layui-input-inline">
                                <input type="text" name="title" lay-verify="required" lay-verType="tips" autocomplete="off" placeholder="请输入标题" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">员工编号</label>
                            <div class="layui-input-inline">
                                <input type="text" name="Codes" lay-verify="required" lay-verType="tips" autocomplete="off" placeholder="请输入员工编号" class="layui-input">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">登录账号</label>
                            <div class="layui-input-inline">
                                <input type="text" name="LoginName" lay-verify="required" lay-verType="tips" autocomplete="off" placeholder="请输入登录账号" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">登录密码</label>
                            <div class="layui-input-inline">
                                <input type="password" name="LoginPwd" lay-verify="pass" lay-verType="tips" autocomplete="off" placeholder="请输入登录密码" class="layui-input">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">状态</label>
                            <div class="layui-input-inline">
                                <input type="checkbox" checked="" name="open" value="LoginStatus" lay-skin="switch" lay-filter="switchTest" lay-text="ON|OFF">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">性别</label>
                            <div class="layui-input-inline">
                                <input type="radio" name="Sex" value="男" title="男" checked="">
                                <input type="radio" name="Sex" value="女" title="女">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">手机号码</label>
                            <div class="layui-input-inline">
                                <input type="text" name="Mobile" lay-verify="required|phone" lay-verType="tips" autocomplete="off" placeholder="请输入手机号码" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">邮箱</label>
                            <div class="layui-input-inline">
                                <input type="email" name="Email" lay-verify="required" lay-verType="tips" autocomplete="off" placeholder="请输入邮箱" class="layui-input">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">QQ</label>
                            <div class="layui-input-inline">
                                <input type="text" name="QQ" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">微信</label>
                            <div class="layui-input-inline">
                                <input type="email" name="WebXin" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">办公电话</label>
                            <div class="layui-input-inline">
                                <input type="text" name="WorkTel" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">语言能力</label>
                            <div class="layui-input-inline">
                                <select name="LanguageSkills" lay-verify="required" lay-search="">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">身份证号码</label>
                            <div class="layui-input-inline">
                                <input type="text" name="IDCard" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">生日</label>
                            <div class="layui-input-inline">
                                <input type="text" id="Birthday" name="Birthday" lay-verify="required" lay-verType="tips" autocomplete="off" placeholder="请选择生日" class="layui-input">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">籍贯</label>
                            <div class="layui-input-inline">
                                <input type="text" name="NativePlaceCity" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">户口所在地</label>
                            <div class="layui-input-inline">
                                <input type="text" name="AccountCity" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">居住地址</label>
                            <div class="layui-input-inline">
                                <input type="text" name="LiveCity" autocomplete="off" placeholder="非必填项" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">政治面貌</label>
                            <div class="layui-input-inline">
                                <select name="PoliticalStatus" lay-verify="required" lay-search="">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">民族</label>
                            <div class="layui-input-inline">
                                <select name="Ethnic" lay-verify="required" lay-search="">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">信仰</label>
                            <div class="layui-input-inline">
                                <select name="Faith" lay-search="">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">婚姻</label>
                            <div class="layui-input-inline">
                                <select name="Marriage" lay-verify="required" lay-search="">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">学历</label>
                            <div class="layui-input-inline">
                                <select name="Education" lay-search="">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs6 layui-col-md3 layui-form-pane addpic-list">
                    <div class="text">头像</div>
                    <ul>
                        <li>
                            <div class="add-photo default">
                                <input class="imgv" id="ImgUrl" name="ImgUrl" type="hidden" value="">
                                <div class="select-newimg select-cloud-img" style="" data-type="sign" id="selA">
                                    <i class="icon-addphote"></i>
                                    <span>选择图片</span>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label">个人爱好</label>
                        <div class="layui-input-block">
                            <textarea name="Hobbies" placeholder="描述下个人爱好" class="layui-textarea"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label">特长</label>
                        <div class="layui-input-block">
                            <textarea name="Hobbies" placeholder="描述下个人特长" class="layui-textarea"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-tab-item">
                <table class="layui-hide" id="tabus"></table>
                <div class="add-icons"><i class="icon-addphote"></i>  添加联系人</div>
            </div>
            <div class="layui-tab-item">内容3</div>
            <div class="layui-tab-item">内容4</div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit="" lay-filter="submit">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary btn-back">返回</button>
        </div>
    </div>
</form>
<script type="text/html" id="switchTpl">
    <input type="checkbox" name="IsUrgent" value="{{d.Id}}" lay-skin="switch" lay-text="ON|OFF">
</script>
@section Scripts{
    <script>
        layui.use(['form', 'element', 'layedit', 'laydate', 'table'],
            function () {
                var form = layui.form,
                    layer = layui.layer,
                    layedit = layui.layedit,
                    element = layui.element,
                    table = layui.table,
                    laydate = layui.laydate;

                laydate.render({
                    elem: '#Birthday'
                });

                /**
                 * /联系人表格
                 */
                var usJson = new Array(), h = 0;
                table.render({
                    elem: '#tabus',
                    data: usJson,
                    cols: [
                        [
                            { field: 'Name', title: '姓名', fixed: 'left', edit: 'text' },
                            { field: 'Relation', title: '联系人', edit: 'text' },
                            { field: 'Address', title: '联系地址', edit: 'text' },
                            { field: 'IsUrgent', width: 150, title: '是否为紧急联系人', templet: '#switchTpl' }
                        ]
                    ],
                    id: 'tabus'
                });
                $(".add-icons").click(function () {
                    var UsModel = function (id, name, relation, address, isUrgent) {
                        this.Id = id,
                            this.Name = name;
                        this.Relation = relation;
                        this.Address = address;
                        this.IsUrgent = isUrgent;
                    };
                    h++;
                    usJson.push(new UsModel(h, '', '', '', true));
                    table.reload('tabus',
                        {
                            data: usJson
                        });
                });

                //自定义验证规则
                form.verify({
                    pass: [/(.+){6,12}$/, '密码必须6到12位']
                });

                //监听指定开关
                form.on('switch(switchTest)',
                    function (data) {
                        layer.msg('开关checked：' + (this.checked ? 'true' : 'false'),
                            {
                                offset: '6px'
                            });
                        layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
                    });

                //监听提交
                form.on('submit(submit)',
                    function (data) {
                        layer.alert(JSON.stringify(data.field),
                            {
                                title: '最终的提交信息'
                            })
                        return false;
                    });


            });
    </script>
}